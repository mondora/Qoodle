//     tcomb 1.1.0
//     https://github.com/gcanti/tcomb
//     (c) 2014 Giulio Canti <giulio.canti@gmail.com>
//     tcomb may be freely distributed under the MIT license.
!function(a,b){"use strict";"function"==typeof define&&define.amd&&"undefined"==typeof __fbBatchedBridgeConfig?define([],b):"object"==typeof exports?module.exports=b():a.t=b()}(this,function(){"use strict";function a(a){throw new TypeError(a)}function b(a,b){a!==!0&&(b=b?d.apply(null,F.call(arguments,1)):"assert failed",S.fail(b))}function c(a,c,d){if(H.is(c))return a;for(var e in c)c.hasOwnProperty(e)&&(d!==!0&&b(!a.hasOwnProperty(e),"Invalid call to mixin(target, source, [overwrite]): cannot overwrite property %s of target object",e),a[e]=c[e]);return a}function d(){function a(a,f){if("%%"===a)return"%";if(e>=c)return a;var g=d.formatters[f];return g?g(b[e++]):a}var b=F.call(arguments),c=b.length,e=1,f=b[0],g=f.replace(/%([a-z%])/g,a);return c>e&&(g+=" "+b.slice(e).join(" ")),g}function e(a){return b("function"==typeof a,"Invalid argument f %s supplied to getFunctionName(f)",a),a.displayName||a.name||d("<function%s>",a.length)}function f(a,b){return N.is(b)?e(b):b}function g(a){return b(R.is(a),"Invalid argument type %s supplied to getTypeName(type)",a),a.meta.name}function h(a,c){b(!(a instanceof c),"Operator new is forbidden for type %s",g(c))}function i(a){return L.is(a)?a.concat():M.is(a)?c({},a):a}function j(a,c){b(M.is(c));var d=i(a);for(var e in c)if(c.hasOwnProperty(e)){if(j.commands.hasOwnProperty(e))return b(1===Object.keys(c).length),j.commands[e](c[e],d);d[e]=j(d[e],c[e])}return d}function k(a,b,c,d){return"struct"===a.meta.kind?new a(b,c,d):a(b,c,d)}function l(a,c){function d(e,f,g){return h(this,d),b(c(e),"Invalid value %j supplied to %s",e,g?g.join("/"):a),e}return b("string"==typeof a,"Invalid argument name %s supplied to irreducible(name, is) (expected a string)",a),b("function"==typeof c,"Invalid argument is %s supplied to irreducible(name, is)",c),d.meta={kind:"irreducible",name:a},d.displayName=a,d.is=c,d}function m(a){return d("{%s}",Object.keys(a).map(function(b){return d("%s: %s",b,g(a[b]))}).join(", "))}function n(a,d){function e(c,f,h){if(e.is(c))return c;if(h=h||[d],b(M.is(c),"Invalid value %j supplied to %s (expected an object)",c,h.join("/")),!(this instanceof e))return new e(c,f);for(var i in a)if(a.hasOwnProperty(i)){var j=a[i],l=c[i];this[i]=k(j,l,f,h.concat(i+": "+g(j)))}f!==!0&&Object.freeze(this)}return b(B(I,R).is(a),"Invalid argument props %j supplied to struct(props, [name]) combinator",a),b(r(I).is(d),"Invalid argument name %s supplied to struct(props, [name]) combinator (expected a string)",d),d=d||m(a),e.meta={kind:"struct",props:a,name:d},e.displayName=d,e.is=function(a){return a instanceof e},e.update=function(a,b){return new e(S.update(a,b))},e.extend=function(b,d){b=[].concat(b).map(function(a){return M.is(a)?a:a.meta.props}),b.unshift(a);var f=n(b.reduce(c,{}),d);return c(f.prototype,e.prototype),f},e}function o(a){return a.map(g).join(" | ")}function p(a,c){function d(a,e,f){h(this,d),b(N.is(d.dispatch),"Unimplemented dispatch() function for the union type %s",c);var g=d.dispatch(a);return b(R.is(g),"The dispatch() function of the union type %s returns no type constructor",c),k(g,a,e,f)}b(z(R).is(a),"Invalid argument types %j supplied to union(types, [name]) combinator (expected a list of types)",a);var e=a.length;return b(e>=2,"Invalid argument types %j supplied to union(types, [name]) combinator (expected a list of at least two types)",a),b(r(I).is(c),"Invalid argument name %s supplied to union(types, [name]) combinator (expected a string)",c),c=c||o(a),d.meta={kind:"union",types:a,name:c},d.displayName=c,d.is=function(b){return a.some(function(a){return a.is(b)})},d.dispatch=function(b){for(var c=0;e>c;c++)if(a[c].is(b))return a[c]},d}function q(a){return"?"+g(a)}function r(a,c){function d(b,c,e){return h(this,d),H.is(b)?null:k(a,b,c,e)}return b(R.is(a),"Invalid argument type %s supplied to maybe(type, [name]) combinator",a),"maybe"===a.meta.kind||a===G||a===H?a:(b(H.is(c)||I.is(c),"Invalid argument name %s supplied to maybe(type, [name]) combinator (expected a string)",c),c=c||q(a),d.meta={kind:"maybe",type:a,name:c},d.displayName=c,d.is=function(b){return H.is(b)||a.is(b)},d)}function s(a){return Object.keys(a).map(function(a){return JSON.stringify(a)}).join(" | ")}function t(a,c){function d(a,f,g){return h(this,d),b(d.is(a),"Invalid value %j supplied to %s (expected one of %j)",a,g?g.join("/"):c,e),a}b(M.is(a),"Invalid argument map %j supplied to enums(map, [name]) combinator (expected an object)",a),b(r(I).is(c),"Invalid argument name %s supplied to enums(map, [name]) combinator (expected a string)",c);var e=Object.keys(a);return c=c||s(a),d.meta={kind:"enums",map:a,name:c},d.displayName=c,d.is=function(b){return a.hasOwnProperty(b)},d}function u(a){return d("[%s]",a.map(g).join(", "))}function v(a,c){function d(b){for(var c=0;f>c;c++)if(!a[c].is(b[c]))return!1;return!0}function e(e,h,i){i=i||[c],b(L.is(e)&&e.length===f,"Invalid value %j supplied to %s (expected an array of length %s)",e,i.join("/"),f);var j=h!==!0;if(d(e)&&Object.isFrozen(e)===j)return e;for(var l=[],m=0;f>m;m++){var n=a[m],o=e[m];l.push(k(n,o,h,i.concat(m+": "+g(n))))}return j&&Object.freeze(l),l}b(z(R).is(a),"Invalid argument types %j supplied to tuple(types, [name]) combinator (expected a list of types)",a);var f=a.length;return b(r(I).is(c),"Invalid argument name %s supplied to tuple(types, [name]) combinator (expected a string)",c),c=c||u(a),e.meta={kind:"tuple",types:a,name:c},e.displayName=c,e.is=function(a){return L.is(a)&&a.length===f&&d(a)},e.update=function(a,b){return e(S.update(a,b))},e}function w(a,b){return d("{%s | %s}",g(a),e(b))}function x(a,c,d){function e(f,g,i){h(this,e),i=i||[d];var j=k(a,f,g,i);return b(c(j),"Invalid value %j supplied to %s",f,i.join("/")),j}return b(R.is(a),"Invalid argument type %s supplied to subtype(type, predicate, [name]) combinator",a),b(N.is(c),"Invalid argument predicate %s supplied to subtype(type, predicate, [name]) combinator",c),b(r(I).is(d),"Invalid argument name %s supplied to subtype(type, predicate, [name]) combinator (expected a string)",d),d=d||w(a,c),e.meta={kind:"subtype",type:a,predicate:c,name:d},e.displayName=d,e.is=function(b){return a.is(b)&&c(b)},e.update=function(a,b){return e(S.update(a,b))},e}function y(a){return d("Array<%s>",g(a))}function z(a,c){function d(b){return b.every(a.is)}function e(e,g,h){h=h||[c],b(L.is(e),"Invalid value %j supplied to %s (expected an array of %s)",e,h.join("/"),f);var i=g!==!0;if(d(e)&&Object.isFrozen(e)===i)return e;for(var j=[],l=0,m=e.length;m>l;l++){var n=e[l];j.push(k(a,n,g,h.concat(l+": "+f)))}return i&&Object.freeze(j),j}b(R.is(a),"Invalid argument type %s supplied to list(type, [name]) combinator",a),b(r(I).is(c),"Invalid argument name %s supplied to list(type, [name]) combinator (expected a string)",c),c=c||y(a);var f=g(a);return e.meta={kind:"list",type:a,name:c},e.displayName=c,e.is=function(a){return L.is(a)&&d(a)},e.update=function(a,b){return e(S.update(a,b))},e}function A(a,b){return d("{[key:%s]: %s}",g(a),g(b))}function B(a,c,d){function e(b){for(var d in b)if(b.hasOwnProperty(d)&&(!a.is(d)||!c.is(b[d])))return!1;return!0}function f(f,g,i){i=i||[d],b(M.is(f),"Invalid value %j supplied to %s",f,i.join("/"));var j=g!==!0;if(e(f)&&Object.isFrozen(f)===j)return f;var l={};for(var m in f)if(f.hasOwnProperty(m)){m=k(a,m,g,i);var n=f[m];l[m]=k(c,n,g,i.concat(m+": "+h))}return j&&Object.freeze(l),l}b(R.is(a),"Invalid argument domain %s supplied to dict(domain, codomain, [name]) combinator",a),b(R.is(c),"Invalid argument codomain %s supplied to dict(domain, codomain, [name]) combinator",c),b(r(I).is(d),"Invalid argument name %s supplied to dict(domain, codomain, [name]) combinator (expected a string)",d);var h=g(c);return d=d||A(a,c),f.meta={kind:"dict",domain:a,codomain:c,name:d},f.displayName=d,f.is=function(a){return M.is(a)&&e(a)},f.update=function(a,b){return f(S.update(a,b))},f}function C(a){return N.is(a)&&M.is(a.type)}function D(a,b){return d("(%s) => %s",a.map(g).join(", "),g(b))}function E(a,c,d){function f(a){return C(a)?(b(f.is(a),"Invalid value %j supplied to %s",a,d),a):f.of(a)}a=L.is(a)?a:[a],b(z(R).is(a),"Invalid argument domain %s supplied to func(domain, codomain, [name]) combinator",a),b(R.is(c),"Invalid argument codomain %s supplied to func(domain, codomain, [name]) combinator",c),b(r(I).is(d),"Invalid argument name %s supplied to func(domain, codomain, [name]) combinator (expected a string)",d),d=d||D(a,c);var g=a.length;return f.meta={kind:"func",domain:a,codomain:c,name:d},f.displayName=d,f.is=function(b){return C(b)&&b.type.domain.length===g&&b.type.domain.every(function(b,c){return b===a[c]})&&b.type.codomain===c},f.of=function(h){function i(){var b=F.call(arguments),e=b.length,f=v(a.slice(0,e),d+" domain");if(b=f(b),e===g)return k(c,h.apply(this,b));var i=Function.prototype.bind.apply(h,[this].concat(b)),j=E(a.slice(e),c);return j.of(i)}return b("function"==typeof h),f.is(h)?h:(i.type={domain:a,codomain:c,f:h},i.displayName=e(h),i)},f}var F=Array.prototype.slice;d.formatters={s:function(a){return String(a)},j:function(a){try{return JSON.stringify(a,f)}catch(b){return String(a)}}},j.commands={$apply:function(a,c){return b(N.is(a)),a(c)},$push:function(a,c){return b(L.is(a)),b(L.is(c)),c.concat(a)},$remove:function(a,c){b(L.is(a)),b(M.is(c));for(var d=0,e=a.length;e>d;d++)delete c[a[d]];return c},$set:function(a){return a},$splice:function(a,c){return b(z(L).is(a)),b(L.is(c)),a.reduce(function(a,b){return a.splice.apply(a,b),a},c)},$swap:function(a,c){b(M.is(a)),b(J.is(a.from)),b(J.is(a.to)),b(L.is(c));var d=c[a.to];return c[a.to]=c[a.from],c[a.from]=d,c},$unshift:function(a,c){return b(L.is(a)),b(L.is(c)),a.concat(c)},$merge:function(a,b){return c(c({},b),a,!0)}};var G=l("Any",function(){return!0}),H=l("Nil",function(a){return null===a||void 0===a}),I=l("String",function(a){return"string"==typeof a}),J=l("Number",function(a){return"number"==typeof a&&isFinite(a)&&!isNaN(a)}),K=l("Boolean",function(a){return a===!0||a===!1}),L=l("Array",function(a){return a instanceof Array}),M=l("Object",function(a){return!H.is(a)&&"object"==typeof a&&!L.is(a)}),N=l("Function",function(a){return"function"==typeof a}),O=l("Error",function(a){return a instanceof Error}),P=l("RegExp",function(a){return a instanceof RegExp}),Q=l("Date",function(a){return a instanceof Date}),R=l("Type",function(a){return N.is(a)&&M.is(a.meta)});t.of=function(a,b){a=I.is(a)?a.split(" "):a;var c={};return a.forEach(function(a){c[a]=a}),t(c,b)};var S={format:d,getFunctionName:e,getTypeName:g,mixin:c,slice:F,shallowCopy:i,update:j,assert:b,fail:a,Any:G,Nil:H,Str:I,String:I,Num:J,Number:J,Bool:K,Boolean:K,Arr:L,Array:L,Obj:M,Object:M,Func:N,Function:N,Err:O,Error:O,Re:P,RegExp:P,Dat:Q,Date:Q,Type:R,irreducible:l,struct:n,enums:t,union:p,maybe:r,tuple:v,subtype:x,list:z,dict:B,func:E};return S});
//# sourceMappingURL=tcomb.min.js.map